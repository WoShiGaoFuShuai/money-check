import{H as A}from"./HistorySelect-fad0b5de.js";import{u as w,T as S,E as g}from"./EditTransferWindow-5a87384e.js";import{b as E,T as k}from"./accounts-17264377.js";import{d as D,j as r,k as H,o as a,c as v,a as p,b as V,F as W,i as N,e as T,f as B,_ as F}from"./index-d34b31e1.js";import"./getDayLabel-d438a4ed.js";const L={class:"transferHistoryView"},M=D({__name:"TrasnfersHistoryView",setup(O){const i=w(),c=E(),s=r(""),t=r({isShowTextInput:!1,debitAmount:null,creditAmount:null,debitCurrency:"",creditCurrency:""}),C=H(()=>s.value===""?i.sortedTransfers:i.sortedTransfers.filter(e=>new Date(e.timestamp).toLocaleString("en-US",{month:"long"})===s.value.slice(0,-5))),I=e=>{s.value=e},m=r(!1),u=r(0),d=r(0),f=e=>{m.value=e},y=e=>{const o=c.accounts.find(l=>l.title===e.debitTitle),n=c.accounts.find(l=>l.title===e.creditTitle);o&&n&&(u.value=c.accounts.indexOf(o),d.value=c.accounts.indexOf(n)),i.addToEditTransfer(e),"creditAmount"in e&&(t.value.isShowTextInput=!0,t.value.debitAmount=e.debitAmount,t.value.creditAmount=e.creditAmount,t.value.debitCurrency=e.currencyDebit,t.value.creditCurrency=e.currencyCredit),f(!0)},h=()=>{t.value.isShowTextInput=!1,t.value.debitAmount=null,t.value.creditAmount=null,t.value.debitCurrency="",t.value.creditCurrency=""},_=e=>{u.value=e},x=e=>{d.value=e},b=e=>{t.value.isShowTextInput=!0,t.value.creditAmount=e.creditAmount,t.value.creditCurrency=e.creditCurrency,t.value.debitAmount=e.debitAmount,t.value.debitCurrency=e.debitCurrency};return(e,o)=>(a(),v("div",L,[p(k,{title:"Transfer History"}),p(A,{items:V(i).allMonths,onNewSelectedItem:I},null,8,["items"]),(a(!0),v(W,null,N(C.value,n=>(a(),T(S,{key:n.timestamp,transfer:n,onTransactionItemClick:y},null,8,["transfer"]))),128)),m.value?(a(),T(g,{key:0,"info-input-data":t.value,"edit-debit-account-index":u.value,"edit-credit-account-index":d.value,onCloseEditTransferWindow:o[0]||(o[0]=n=>f(!1)),onChangeEditChoosenCreditAccountIndex:x,onChangeEditChoosenDebitAccountIndex:_,onResetInfoInputData:h,onSubmitTransferWithDifferentCurrency:b},null,8,["info-input-data","edit-debit-account-index","edit-credit-account-index"])):B("",!0)]))}});const z=F(M,[["__scopeId","data-v-fedc3d20"]]);export{z as default};
