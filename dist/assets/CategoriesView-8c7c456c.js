import{a as q,T as O,M as E,u as P,c as X}from"./accounts-17264377.js";import{b as z,C as R,a as G}from"./ConfirmationDelete-d945503d.js";import{d as S,r as k,o as f,c as I,a as u,w as M,g as e,b as F,j as r,m as $,v as A,L as U,e as N,f as b,F as V,_ as B,R as H,k as J}from"./index-d34b31e1.js";import{A as D}from"./AppError-2fee9d12.js";const K={class:"allIcons__wrapper"},Q=e("p",null,"Back",-1),Y={class:"allIcons__content"},j=S({__name:"CategoryAllIcons",emits:["close","chooseCategory"],setup(y,{emit:s}){const p=q(),m=()=>{s("close")},o=a=>{s("chooseCategory",a),m()};return(a,v)=>{const d=k("font-awesome-icon");return f(),I("div",K,[u(O,{title:"All Icons"},{"left-icons":M(()=>[e("div",{class:"allIcons__topnavbar-left",onClick:m},[u(d,{icon:"fa-solid fa-chevron-right",class:"allIcons__topnavbar-left__icon"}),Q])]),_:1}),e("div",Y,[u(R,{categories:F(p).getterUniqueIcons,mode:F(z).NONAME,onChooseCategoryName:o},null,8,["categories","mode"])])])}}});const Z={class:"newCategory__form-wrapper"},ee={class:"newCategory__form"},oe={class:"form__item"},te=e("label",{class:"form__label-title",for:"name"},"Name",-1),ae=e("label",{class:"form__label-title"},"Icon",-1),se={class:"form__icon-wrapper"},re={class:"form__item"},ne=e("label",{class:"form__label-title",for:"color"},"Color",-1),le={class:"form__icon-wrapper"},ce=S({__name:"NewCategoryForm",props:{mode:{type:String,required:!0,validator:y=>Object.values(E).includes(y)}},emits:["formSubmit"],setup(y,{expose:s,emit:p}){const m=y,o=r(""),a=r(!1),v=q(),d=()=>{a.value=!a.value},t=r("fa-house"),_=c=>{const i=c.iconName.split(" ").pop();i===void 0?t.value="fa-xmark":t.value=i},n=r("#000000");s({submitForm:()=>{if(l.value="",o.value.trim()===""){l.value="Name can not be empty";return}if(m.mode===E.EXPENSES?v.categoriesExpenses.find(i=>i.categoryName.toLowerCase()===o.value.toLowerCase()):v.categoriesIncome.find(i=>i.categoryName.toLowerCase()===o.value.toLowerCase())){l.value="Category name must be unique";return}const g={categoryName:o.value,iconName:t.value,color:n.value};l.value="",p("formSubmit",g)}});const l=r("");return(c,g)=>{const i=k("font-awesome-icon");return f(),I(V,null,[e("div",Z,[e("div",ee,[e("div",oe,[te,$(e("input",{id:"name","onUpdate:modelValue":g[0]||(g[0]=C=>o.value=C),type:"text",class:"form__input",placeholder:"name for category",role:"accountNameInput"},null,512),[[A,o.value]])]),e("div",{class:"form__item",onClick:d},[ae,e("div",se,[u(i,{icon:["fa-solid",t.value],class:"form__icon form__icon--big",style:U({color:n.value})},null,8,["icon","style"]),u(i,{icon:"fa-solid fa-chevron-right",class:"form__icon"})])]),e("div",re,[ne,e("div",le,[$(e("input",{id:"color","onUpdate:modelValue":g[1]||(g[1]=C=>n.value=C),type:"color",name:"color"},null,512),[[A,n.value]])])])])]),a.value?(f(),N(j,{key:0,onClose:d,onChooseCategory:_})):b("",!0),l.value!==""?(f(),N(D,{key:1,error:l.value,mt:16},null,8,["error"])):b("",!0)],64)}}});const ie={class:"newCategory__wrapper"},_e=S({__name:"NewCategory",props:{mode:{type:String,required:!0,validator:y=>Object.values(E).includes(y)}},emits:["toggleNewCategory"],setup(y,{emit:s}){const p=y,m=q(),o=()=>{s("toggleNewCategory")},a=r(null),v=t=>{const _={iconName:"fa-solid "+t.iconName,categoryName:t.categoryName,color:t.color};m.addCategory(_,p.mode),s("toggleNewCategory")},d=()=>{var t;(t=a.value)!=null&&t.submitForm&&a.value.submitForm()};return(t,_)=>{const n=k("font-awesome-icon");return f(),I("div",ie,[u(O,{title:"New Category","right-icons":[{icon:"fa solid fa-check",handler:d}]},{"left-icons":M(()=>[u(n,{icon:"fa-solid fa-xmark",onClick:o})]),_:1},8,["right-icons"]),u(ce,{ref_key:"newCategoryFormRef",ref:a,mode:y.mode,onFormSubmit:v},null,8,["mode"])])}}});const ue=B(_e,[["__scopeId","data-v-aada702e"]]),me={class:"newCategory__form-wrapper"},de={class:"newCategory__form"},ge={class:"form__item"},ye=e("label",{class:"form__label-title",for:"name"},"Name",-1),ve=e("label",{class:"form__label-title"},"Icon",-1),fe={class:"form__icon-wrapper"},pe={class:"form__item"},Ce=e("label",{class:"form__label-title",for:"color"},"Color",-1),he={class:"form__icon-wrapper"},we={class:"newCategory__deleteBtn"},Ne=S({__name:"EditCategoryForm",props:{category:{type:Object,required:!0}},emits:["submitEditForm","deleteCategory"],setup(y,{expose:s,emit:p}){const m=y,o=r(m.category.iconName),a=r(!1),v=()=>{a.value=!a.value},d=c=>{o.value=c.iconName},t=r(m.category.categoryName),_=r(m.category.color),n=()=>{if(l.value="",t.value.trim()===""){l.value="Name can not be empty";return}const c={iconName:o.value,categoryName:t.value,color:_.value};p("submitEditForm",c)},h=()=>{p("deleteCategory")},l=r("");return s({submitEditForm:n}),(c,g)=>{const i=k("font-awesome-icon");return f(),I(V,null,[e("div",me,[e("div",de,[e("div",ge,[ye,$(e("input",{id:"name","onUpdate:modelValue":g[0]||(g[0]=C=>t.value=C),type:"text",class:"form__input",placeholder:"name for category",role:"accountNameInput"},null,512),[[A,t.value]])]),e("div",{class:"form__item",onClick:v},[ve,e("div",fe,[u(i,{icon:o.value,class:"form__icon form__icon--big",style:U({color:_.value})},null,8,["icon","style"]),u(i,{icon:"fa-solid fa-chevron-right",class:"form__icon"})])]),e("div",pe,[Ce,e("div",he,[$(e("input",{id:"color","onUpdate:modelValue":g[1]||(g[1]=C=>_.value=C),type:"color",name:"color"},null,512),[[A,_.value]])])])])]),e("div",we,[u(i,{icon:"fa-solid fa-trash",class:"icon icon__delete",onClick:h})]),a.value?(f(),N(j,{key:0,onClose:v,onChooseCategory:d})):b("",!0),l.value!==""?(f(),N(D,{key:1,error:l.value,mt:16},null,8,["error"])):b("",!0)],64)}}});const be={class:"editCategory__wrapper"},Ee=S({__name:"EditCategory",props:{category:{type:Object,required:!0}},emits:["closeEditCategory","editOldCategory","deleteCategory"],setup(y,{emit:s}){const p=y,m=()=>{s("closeEditCategory")},o=r(null),a=()=>{var n;(n=o.value)!=null&&n.submitEditForm&&o.value.submitEditForm()},v=n=>{s("editOldCategory",n),m()},d=r(!1),t=()=>{d.value=!d.value},_=()=>{s("deleteCategory"),d.value=!1};return(n,h)=>{const l=k("font-awesome-icon");return f(),I("div",be,[u(O,{title:"Edit Category","right-icons":[{icon:"fa solid fa-check",handler:a}]},{"left-icons":M(()=>[u(l,{icon:"fa-solid fa-xmark",onClick:m})]),_:1},8,["right-icons"]),u(Ne,{ref_key:"editCategoryFormRef",ref:o,category:p.category,onSubmitEditForm:v,onDeleteCategory:t},null,8,["category"]),d.value?(f(),N(G,{key:0,text:"Delete the category?",onConfirm:_,onCancel:t})):b("",!0)])}}});const Se=B(Ee,[["__scopeId","data-v-566d7179"]]),Ae=S({__name:"CategoriesView",setup(y){const s=q(),p=P(),m=X(),o=H(),a=r(!1),v=()=>{a.value=!a.value},d=J(()=>o.query.from==="income"?s.getterCategoriesIncomeWithoutAllCategories:s.getterCategoriesExpensesWithoutAllCategories),t=o.query.from==="income"?"var(--green-primary)":"var(--blue-primary)",_=o.query.from==="income"?E.INCOME:E.EXPENSES,n=r(!1),h=r(!1),l=r(""),c=r({iconName:"",categoryName:"",color:""}),g=()=>{c.value.iconName="",c.value.categoryName="",c.value.color=""},i=()=>{h.value=!h.value,l.value=l.value===""?"red":""},C=w=>{n.value=w},L=w=>{c.value=w,C(!0)},T=w=>{const x=_===E.EXPENSES?p:m;s.editCategory(w,c.value.categoryName,_),x.changeCategory(w,c.value.categoryName),g(),i()},W=()=>{s.deleteCategory(c.value,_),g(),C(!1),i()};return(w,x)=>(f(),I(V,null,[u(O,{title:"Categories","bg-color":F(t),"right-icons":[{icon:"fa solid fa-pencil",handler:i,bg:l.value},{icon:"fa solid fa-plus",handler:v}]},null,8,["bg-color","right-icons"]),u(R,{categories:d.value,"edit-mode":h.value,onPushToEditWindow:L},null,8,["categories","edit-mode"]),n.value?(f(),N(Se,{key:0,category:c.value,onCloseEditCategory:x[0]||(x[0]=Ie=>C(!1)),onEditOldCategory:T,onDeleteCategory:W},null,8,["category"])):b("",!0),a.value?(f(),N(ue,{key:1,mode:F(_),onToggleNewCategory:v},null,8,["mode"])):b("",!0)],64))}});export{Ae as default};
