import{u as x,c as R,b as B,T as F}from"./accounts-17264377.js";import{H as h}from"./HistorySelect-fad0b5de.js";import{d as L,V as n,j as b,k as S,o as l,c as u,a as m,b as i,g as d,F as k,i as j,L as H,t as w,_ as M}from"./index-d34b31e1.js";const z={class:"report__wrapper-selects"},O={class:"report__selects"},q={class:"total__wrapper"},G={key:0},J={class:"total__result"},K=L({__name:"ReportView",setup(P){const _=x(),p=R(),E=B(),T=n.value==="income"?p:_,A=n.value==="income"?"var(--green-primary)":"",c=b(""),I=t=>{c.value=t},v=t=>new Date(t).toLocaleString("en-EN",{month:"long",year:"numeric"}),N=S(()=>{let t={};const s=a=>{a.forEach(e=>{if(e.currency){const o=v(e.timestamp);(c.value===""||c.value===o)&&(t[e.currency]?t[e.currency]+=e.sum:t[e.currency]=e.sum)}})};return n.value==="income"?s(p.earn):s(_.spend),t}),g=["#cdb4db","#ffc8dd","#ffafcc","#bde0fe","#ffb703","#2a9d8f","#e9c46a"],f=b(""),V=t=>{f.value=t},y=S(()=>{const t=N.value,s={},a=(e,o)=>{e.forEach(r=>{if(r.currency===o){const D=v(r.timestamp);(c.value===""||c.value===D)&&(!f.value||f.value===r.account)&&(s[o]||(s[o]=0),s[o]+=r.sum)}})};for(const e in t)n.value==="income"?a(p.earn,e):a(_.spend,e);return s}),C=n.value==="income"?"Total Earns":"Total Expenses";return(t,s)=>(l(),u(k,null,[m(F,{"bg-color":i(A),title:i(C)},null,8,["bg-color","title"]),d("div",z,[d("div",O,[m(h,{items:i(T).allMonths,onNewSelectedItem:I},null,8,["items"]),m(h,{title:"All Accounts",items:i(E).getterAllTitles,onNewSelectedItem:V},null,8,["items"])])]),d("div",q,[Object.keys(y.value).length?(l(!0),u(k,{key:1},j(y.value,(a,e,o)=>(l(),u("div",{key:o,class:"total__item",style:H({backgroundColor:g[o%g.length]})},[d("div",J,w(a)+" "+w(e),1)],4))),128)):(l(),u("div",G,"Sorry, no results."))])],64))}});const X=M(K,[["__scopeId","data-v-64bafd3e"]]);export{X as default};
